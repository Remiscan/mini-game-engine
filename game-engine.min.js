export default class Game{constructor(t,e,{canvas:s=document.querySelector("canvas"),html:a=document.querySelector("accessible-elements"),state:i={},actions:n={},frameRate:c=60}={}){this.canvas=s,this.html=a,this.state=i,this.state.actions=n,this.frameRate=c,this.paused=!1,this.start=t.bind(this),this.update=e.bind(this)}play(){this.initControls(),this.start();const t=function*(){let t=0;for(;;)this.update(),yield t,t++}.bind(this)();setInterval((()=>{this.paused||t.next()}),1e3/this.frameRate)}pause(){this.paused=!0}unpause(){this.paused=!1}initControls(){document.addEventListener("keydown",(t=>{const e=t.code||t.key;this.state.actions.filter((t=>t.controls.includes(e))).map((t=>t.active=!0))})),document.addEventListener("keyup",(t=>{const e=t.code||t.key;this.state.actions.filter((t=>t.controls.includes(e))).map((t=>t.active=!1))}))}get currentActions(){return this.state.actions.filter((t=>t.active)).map((t=>t.name))}}