import*as GEM from"../game-engine.min.js";const actions=[{name:"Jump",controls:["Space"]},{name:"Up",controls:["ArrowUp","KeyW"]},{name:"Down",controls:["ArrowDown","KeyS"]},{name:"Left",controls:["ArrowLeft","KeyA"]},{name:"Right",controls:["ArrowRight","KeyD"]}],state={jumpFrames:0,startTime:performance.now()},start=async function(){this.addLevel({id:"test0"}).addObject({width:this.width,height:this.height,draw:t=>{t.fillStyle="black",t.fillRect(0,0,this.width,this.height)}}),console.log(this.levels),await this.loadLevel("test0")},update=function(t){const e=performance.now();console.log(`New tick after ${e-this.state.startTime} ms`),console.log("Actions:",this.state.actions),console.log("Objects:",this.state.level.objects),this.state.actions.includes("Jump")?this.state.jumpFrames++:this.state.jumpFrames>0&&(console.log(`Jumped for ${this.state.jumpFrames} ticks`),this.state.jumpFrames=0),this.state.startTime=e},game=new GEM.Game(start,update,[],{tickRate:4,actions:actions,state:state}),buttonPlay=document.querySelector(".load-game");buttonPlay.addEventListener("click",(()=>{buttonPlay.remove(),game.play()}));const buttonPause=document.querySelector(".pause-game");buttonPause.addEventListener("click",(()=>game.paused=!game.paused));